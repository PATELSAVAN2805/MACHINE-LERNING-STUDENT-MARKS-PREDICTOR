<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Student Mark Predictor</title>
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        :root {
            --primary-color: #667eea;
            --secondary-color: #764ba2;
            --success-color: #28a745;
            --danger-color: #dc3545;
            --warning-color: #ffc107;
        }
        
        body {
            background: linear-gradient(135deg, var(--primary-color) 0%, var(--secondary-color) 100%);
            min-height: 100vh;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        .navbar-brand {
            font-weight: 700;
            font-size: 1.5rem;
        }
        
        .hero-section {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.1);
            backdrop-filter: blur(10px);
        }
        
        .feature-card {
            background: white;
            border-radius: 15px;
            padding: 2rem;
            height: 100%;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            transition: transform 0.3s ease;
        }
        
        .feature-card:hover {
            transform: translateY(-5px);
        }
        
        .feature-icon {
            font-size: 2.5rem;
            margin-bottom: 1rem;
        }
        
        .algorithm-btn {
            border: 2px solid #dee2e6;
            padding: 1rem;
            text-align: center;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
            background: white;
            height: 100%;
        }
        
        .algorithm-btn.active {
            border-color: var(--primary-color);
            background: linear-gradient(135deg, var(--primary-color) 0%, var(--secondary-color) 100%);
            color: white;
        }
        
        .algorithm-btn:hover:not(.active) {
            border-color: var(--primary-color);
            background: #f8f9fa;
        }
        
        .result-card {
            border-radius: 15px;
            border-left: 5px solid var(--success-color);
        }
        
        .result-card.fail {
            border-left-color: var(--danger-color);
        }
        
        .status-badge {
            font-size: 1rem;
            padding: 0.5rem 1.5rem;
        }
        
        .example-card {
            background: #f8f9fa;
            border-radius: 10px;
            padding: 1rem;
            margin-bottom: 1rem;
            cursor: pointer;
            transition: background-color 0.3s ease;
            border: 1px solid #dee2e6;
        }
        
        .example-card:hover {
            background: #e9ecef;
            border-color: var(--primary-color);
        }
        
        .footer {
            background: rgba(0, 0, 0, 0.1);
            backdrop-filter: blur(10px);
        }
        
        .mark-display {
            font-size: 2.5rem;
            font-weight: bold;
            text-align: center;
            margin: 1rem 0;
        }
        
        .success-mark {
            color: var(--success-color);
        }
        
        .fail-mark {
            color: var(--danger-color);
        }
        
        .progress {
            height: 25px;
            margin: 1rem 0;
            border-radius: 12px;
        }
        
        .progress-bar {
            border-radius: 12px;
        }
        
        .study-guide {
            background: linear-gradient(135deg, #fff3cd 0%, #ffeaa7 100%);
            border-radius: 10px;
            padding: 1.5rem;
            margin-top: 1rem;
        }
    </style>
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar navbar-expand-lg navbar-dark">
        <div class="container">
            <a class="navbar-brand" href="#">
                <i class="fas fa-graduation-cap me-2"></i>
                StudentMark Predictor
            </a>
        </div>
    </nav>

    <!-- Main Content -->
    <div class="container my-5">
        <div class="row justify-content-center">
            <div class="col-lg-10">
                <!-- Hero Section -->
                <div class="hero-section p-5 mb-5">
                    <div class="row align-items-center">
                        <div class="col-lg-6">
                            <h1 class="display-4 fw-bold text-primary mb-3">
                                Student Mark Predictor
                            </h1>
                            <p class="lead text-muted mb-4">
                                Predict student performance using advanced machine learning algorithms. 
                                Get realistic mark predictions between 0% and 100%.
                            </p>
                            <div class="d-flex gap-3 flex-wrap">
                                <span class="badge bg-primary fs-6">AI Powered</span>
                                <span class="badge bg-success fs-6">Realistic Predictions</span>
                                <span class="badge bg-info fs-6">0-100% Range</span>
                                <span class="badge bg-warning fs-6">Smart Algorithms</span>
                            </div>
                        </div>
                        <div class="col-lg-6 text-center">
                            <img src="https://cdn-icons-png.flaticon.com/512/3135/3135715.png" 
                                 alt="Student Analysis" class="img-fluid" style="max-height: 200px;">
                        </div>
                    </div>
                </div>

                <!-- Prediction Section -->
                <div class="row">
                    <!-- Algorithm Selection & Input -->
                    <div class="col-lg-6 mb-4">
                        <div class="feature-card">
                            <h3 class="mb-4">
                                <i class="fas fa-calculator feature-icon text-primary"></i><br>
                                Predict Your Marks
                            </h3>
                            
                            <!-- Algorithm Selection -->
                            <div class="mb-4">
                                <label class="form-label fw-bold fs-5">Select ML Algorithm:</label>
                                <div class="row g-3">
                                    <div class="col-6">
                                        <div class="algorithm-btn {% if algorithm != 'polynomial' %}active{% endif %}" 
                                             onclick="selectAlgorithm('linear')">
                                            <i class="fas fa-chart-line fa-2x mb-2"></i>
                                            <h6>Linear Regression</h6>
                                            <small>Best for linear relationships</small>
                                        </div>
                                    </div>
                                    <div class="col-6">
                                        <div class="algorithm-btn {% if algorithm == 'polynomial' %}active{% endif %}" 
                                             onclick="selectAlgorithm('polynomial')">
                                            <i class="fas fa-chart-curve fa-2x mb-2"></i>
                                            <h6>Polynomial Regression</h6>
                                            <small>Captures complex patterns</small>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- Input Form -->
                            <form action="/predict" method="POST" id="predictionForm">
                                <input type="hidden" name="algorithm" id="algorithm" value="{{ algorithm or 'linear' }}">
                                
                                <div class="mb-4">
                                    <label for="study_hours" class="form-label fw-bold fs-5">
                                        <i class="fas fa-clock me-2"></i>Enter Study Hours:
                                    </label>
                                    <input type="number" 
                                           class="form-control form-control-lg" 
                                           id="study_hours" 
                                           name="study_hours" 
                                           step="0.1" 
                                           min="0" 
                                           max="24" 
                                           value="{{ study_hours if study_hours else '' }}" 
                                           placeholder="e.g., 5.5"
                                           required>
                                    <div class="form-text">Enter study hours between 0 and 24</div>
                                </div>

                                <button type="submit" class="btn btn-primary btn-lg w-100 py-3">
                                    <i class="fas fa-bolt me-2"></i>Predict Marks
                                </button>
                            </form>

                            <!-- Quick Examples -->
                            <div class="mt-4">
                                <label class="form-label fw-bold fs-5">Try these examples:</label>
                                <div class="example-card" onclick="setStudyHours(0)">
                                    <strong>‚ùå No Study:</strong> 0 hours (0% - FAIL)
                                </div>
                                <div class="example-card" onclick="setStudyHours(3)">
                                    <strong>‚ö†Ô∏è Low Study:</strong> 3 hours (~30%)
                                </div>
                                <div class="example-card" onclick="setStudyHours(6)">
                                    <strong>‚úÖ Medium Study:</strong> 6 hours (~60%)
                                </div>
                                <div class="example-card" onclick="setStudyHours(12)">
                                    <strong>üéØ High Study:</strong> 12 hours (~85%)
                                </div>
                                <div class="example-card" onclick="setStudyHours(24)">
                                    <strong>‚≠ê Maximum Study:</strong> 24 hours (~95%)
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Results & Information -->
                    <div class="col-lg-6">
                        <!-- Results Card -->
                        {% if prediction_text %}
                        <div class="feature-card mb-4">
                            <h3 class="mb-4">
                                <i class="fas fa-chart-bar feature-icon {% if status == 'FAIL' %}text-danger{% else %}text-success{% endif %}"></i><br>
                                Prediction Results
                            </h3>
                            
                            <div class="mark-display {% if status == 'FAIL' %}fail-mark{% else %}success-mark{% endif %}">
                                {{ prediction_text }}
                            </div>
                            
                            <!-- Progress Bar -->
                            {% set mark_value = prediction_text.split(': ')[1].replace('%', '') | float %}
                            <div class="progress">
                                <div class="progress-bar {% if status == 'FAIL' %}bg-danger{% else %}bg-success{% endif %}" 
                                     role="progressbar" 
                                     style="width: {{ mark_value }}%"
                                     aria-valuenow="{{ mark_value }}" 
                                     aria-valuemin="0" 
                                     aria-valuemax="100">
                                    {{ mark_value }}%
                                </div>
                            </div>
                            
                            <div class="result-card alert {% if status == 'FAIL' %}alert-danger fail{% else %}alert-success{% endif %}">
                                <div class="row">
                                    <div class="col-6">
                                        <strong><i class="fas fa-clock me-2"></i>Study Hours:</strong><br>
                                        <span class="fs-5">{{ study_hours }}</span>
                                    </div>
                                    <div class="col-6 text-end">
                                        <strong><i class="fas fa-calculator me-2"></i>Algorithm:</strong><br>
                                        <span class="fs-5">
                                            {% if algorithm == 'polynomial' %}
                                                Polynomial
                                            {% else %}
                                                Linear
                                            {% endif %}
                                        </span>
                                    </div>
                                </div>
                                <hr>
                                <div class="text-center">
                                    <span class="badge {% if status == 'FAIL' %}bg-danger{% else %}bg-success{% endif %} status-badge fs-6">
                                        {% if status == 'FAIL' %}
                                            <i class="fas fa-times-circle me-2"></i>FAIL
                                        {% else %}
                                            <i class="fas fa-check-circle me-2"></i>PASS
                                        {% endif %}
                                    </span>
                                </div>
                            </div>
                            
                            <!-- Study Guide -->
                            <div class="study-guide">
                                <h6><i class="fas fa-lightbulb me-2"></i>Study Recommendation:</h6>
                                {% if mark_value < 40 %}
                                    <p class="mb-1">You need to study more! Aim for at least 5-6 hours to pass.</p>
                                {% elif mark_value < 70 %}
                                    <p class="mb-1">Good effort! Study 2-3 more hours to improve your marks.</p>
                                {% elif mark_value < 90 %}
                                    <p class="mb-1">Excellent! Maintain this study routine for great results.</p>
                                {% else %}
                                    <p class="mb-1">Outstanding! You're maximizing your potential.</p>
                                {% endif %}
                            </div>
                        </div>
                        {% else %}
                        <!-- Default Results Placeholder -->
                        <div class="feature-card mb-4">
                            <h3 class="mb-4">
                                <i class="fas fa-chart-bar feature-icon text-secondary"></i><br>
                                Prediction Results
                            </h3>
                            <div class="text-center text-muted py-5">
                                <i class="fas fa-chart-line fa-4x mb-3"></i>
                                <h5>No Prediction Yet</h5>
                                <p>Enter study hours and click "Predict Marks" to see results</p>
                            </div>
                        </div>
                        {% endif %}

                        
    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    
    <script>
        function selectAlgorithm(algo) {
            document.getElementById('algorithm').value = algo;
            
            // Update UI
            document.querySelectorAll('.algorithm-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            event.currentTarget.classList.add('active');
        }

        function setStudyHours(hours) {
            document.getElementById('study_hours').value = hours;
            // Auto-submit form when example is clicked
            document.getElementById('predictionForm').submit();
        }

        // Initialize algorithm selection
        document.addEventListener('DOMContentLoaded', function() {
            const currentAlgorithm = "{{ algorithm or 'linear' }}";
            selectAlgorithm(currentAlgorithm);
        });
    </script>
</body>
</html>